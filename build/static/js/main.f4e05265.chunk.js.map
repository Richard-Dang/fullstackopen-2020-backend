{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","term","handleSearch","value","onChange","PersonForm","addPerson","newName","newNumber","handleNewName","handleNewNumber","onSubmit","type","Persons","filteredPersons","handleDelete","component","map","person","key","name","number","onClick","baseUrl","axios","get","then","response","data","newPerson","post","id","delete","updatedPerson","put","Notification","message","text","typeStyle","color","style","background","fontSize","borderStyle","borderRadius","padding","marginBottom","App","useState","persons","setPersons","setNewName","setNewNumber","setTerm","setMessage","useEffect","personService","filter","toLowerCase","includes","showMessage","setTimeout","event","target","preventDefault","existingPerson","find","p","window","confirm","returnedPerson","catch","err","updatePhone","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f4e05265.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Filter = ({ term, handleSearch }) => {\n  return (\n    <div>\n      filter shown with <input value={term} onChange={handleSearch}></input>\n    </div>\n  );\n};\n\nexport default Filter;\n","import React from \"react\";\n\nfunction PersonForm({\n  addPerson,\n  newName,\n  newNumber,\n  handleNewName,\n  handleNewNumber,\n}) {\n  return (\n    <div>\n      <form onSubmit={addPerson}>\n        <div>\n          name: <input value={newName} onChange={handleNewName} />\n        </div>\n        <div>\n          number: <input value={newNumber} onChange={handleNewNumber} />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nexport default PersonForm;\n","import React from \"react\";\n\nfunction Persons({ filteredPersons, handleDelete }) {\n  const component = filteredPersons.map((person) => {\n    return (\n      <div key={person.name}>\n        {person.name} {person.number}\n        <button onClick={() => handleDelete(person)}>delete</button>\n      </div>\n    );\n  });\n\n  return <div>{component}</div>;\n}\n\nexport default Persons;\n","import axios from \"axios\";\nconst baseUrl = \"/api/persons\";\n\nconst getAllPersons = () => {\n  return axios.get(baseUrl).then((response) => response.data);\n};\n\nconst createPerson = (newPerson) => {\n  return axios.post(baseUrl, newPerson).then((response) => response.data);\n};\n\nconst deletePerson = (id) => {\n  return axios.delete(`${baseUrl}/${id}`).then((response) => response.data);\n};\n\nconst updatePerson = (updatedPerson) => {\n  return axios\n    .put(`${baseUrl}/${updatedPerson.id}`, updatedPerson)\n    .then((response) => response.data);\n};\n\nexport default { getAllPersons, createPerson, deletePerson, updatePerson };\n","import React from \"react\";\n\nfunction Notification({ message: { text, type } }) {\n  const notificationStyle = {\n    background: \"lightgrey\",\n    fontSize: 20,\n    borderStyle: \"solid\",\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10,\n  };\n\n  const typeStyle = type === \"error\" ? { color: \"red\" } : { color: \"green\" };\n\n  return text ? (\n    <div style={{ ...notificationStyle, ...typeStyle }}>{text}</div>\n  ) : null;\n}\n\nexport default Notification;\n","import React, { useState, useEffect } from \"react\";\nimport Filter from \"./components/Filter\";\nimport PersonForm from \"./components/PersonForm\";\nimport Persons from \"./components/Persons\";\nimport personService from \"./services/persons\";\nimport Notification from \"./components/Notification\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [term, setTerm] = useState(\"\");\n  const [message, setMessage] = useState({ text: \"\", type: \"\" });\n\n  useEffect(() => {\n    personService.getAllPersons().then((persons) => {\n      setPersons(persons);\n    });\n  }, []);\n\n  const filteredPersons = term\n    ? persons.filter((person) =>\n        person.name.toLowerCase().includes(term.toLowerCase())\n      )\n    : persons;\n\n  const showMessage = (text, type) => {\n    setMessage({\n      text,\n      type,\n    });\n    setTimeout(() => {\n      setMessage({ text: \"\", type: \"\" });\n    }, 5000);\n  };\n\n  const handleNewName = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handleNewNumber = (event) => {\n    setNewNumber(event.target.value);\n  };\n\n  const handleSearch = (event) => {\n    const term = event.target.value;\n    setTerm(term);\n  };\n\n  const handleDelete = ({ name, id }) => {\n    if (window.confirm(`Delete ${name}?`)) {\n      personService\n        .deletePerson(id)\n        .then(() => {\n          setPersons(persons.filter((p) => p.id !== id));\n        })\n        .catch((err) => {\n          showMessage(`${name} was already deleted`, \"error\");\n        });\n    }\n  };\n\n  const updatePhone = (person, newNumber) => {\n    if (\n      window.confirm(\n        `${person.name} is already added to phonebook, replace the old number with a new one?`\n      )\n    ) {\n      const updatedPerson = { ...person, number: newNumber };\n      personService\n        .updatePerson(updatedPerson)\n        .then((returnedPerson) => {\n          setPersons(\n            persons.map((p) =>\n              p.id === returnedPerson.id ? returnedPerson : p\n            )\n          );\n          setNewName(\"\");\n          setNewNumber(\"\");\n          showMessage(`Updated number for ${person.name}`, \"success\");\n        })\n        .catch((err) => {\n          setPersons(persons.filter((p) => p.id !== person.id));\n          showMessage(\n            `${person.name} was already deleted from server`,\n            \"error\"\n          );\n        });\n    }\n  };\n\n  const addPerson = (event) => {\n    event.preventDefault();\n    const existingPerson = persons.find((p) => p.name === newName);\n    if (existingPerson) {\n      updatePhone(existingPerson, newNumber);\n    } else {\n      const newPerson = { name: newName, number: newNumber };\n      personService.createPerson(newPerson).then((person) => {\n        setPersons(persons.concat(person));\n        setNewName(\"\");\n        setNewNumber(\"\");\n        showMessage(`Added ${person.name}`, \"success\");\n      });\n    }\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} />\n      <Filter term={term} handleSearch={handleSearch} />\n      <h2>add a new</h2>\n      <PersonForm\n        addPerson={addPerson}\n        newName={newName}\n        newNumber={newNumber}\n        handleNewName={handleNewName}\n        handleNewNumber={handleNewNumber}\n      />\n      <h2>Numbers</h2>\n      <Persons filteredPersons={filteredPersons} handleDelete={handleDelete} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}